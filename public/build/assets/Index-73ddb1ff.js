import{_ as V,o as _,c as u,r as I,j as x,e as F,a as o,d as O,w as b,v as M,q as k,F as w,l as S,t as f,f as n,T as P,p as E,h as D,u as U,i as L,s as j,k as q,m as B,O as T,n as N}from"./app-8fe746da.js";import{M as R}from"./Vertical-7bc4202c.js";const Y={};function K(l,e){return _(),u("div")}const X=V(Y,[["render",K]]);const A={props:["car_brands","car_models"],setup(){const l=I({form:{car_brand_id:"",car_model_id:"",thumbnail:"",cars_display:""},myFiles:[],carModels:[],myCars:[]});let e=()=>{console.log(l.form);var m=P(l.form);m.post(route("cars.store")),$("#large").modal("toggle"),d()},d=()=>{l.form={car_brand_id:"",car_model_id:"",thumbnail:"",cars_display:""},l.myFiles=[],l.myCars=[]},t=async()=>{if(l.form.car_brand_id)try{const g=await(await fetch(`/admin/car_brand_models?car_brand_id=${l.form.car_brand_id}`)).json();l.carModels=g}catch(m){console.error("Error fetching car models:",m)}else l.carModels=[]},v=m=>{let g=l.form.cars_display?l.form.cars_display.split("|"):[];g.push(m),l.form.cars_display=g.join("|"),console.log(l.form.cars_display)},y=()=>{},r=()=>{},a=m=>{l.form.thumbnail=m},c=m=>{v(m)};return x(()=>l.form.car_brand_id,t),{state:l,saveFun:e,clearData:d,loadCarModels:t,handleFilePondLoad:a,handleFilePondInit:y,handleFilePondCarsLoad:c,handleFilePondCarsInit:r}}},h=l=>(E("data-v-94635970"),l=l(),D(),l),W={class:"modal fade text-left",id:"large",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel17","aria-hidden":"true"},z={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},G={class:"modal-content"},H={class:"modal-header"},J=h(()=>o("h4",{class:"modal-title",id:"myModalLabel17"},"New Model",-1)),Q=h(()=>o("span",{"aria-hidden":"true"},"×",-1)),Z=[Q],oo={class:"modal-body"},eo={class:"row"},to={class:"col-12"},ao={class:"form-group"},lo=h(()=>o("label",null,"Year",-1)),so={class:"col-12"},ro={class:"form-group"},no=h(()=>o("label",null,"Color",-1)),io={class:"col-12"},co={class:"form-group"},mo=h(()=>o("label",null,"Select Car Brand",-1)),_o=h(()=>o("option",{value:"",class:"first-option"}," --- List Of Car Brands --- ",-1)),uo=["value"],ho={class:"col-12"},po={class:"form-group"},fo=h(()=>o("label",null,"Select Car Model",-1)),bo=h(()=>o("option",{value:"",class:"first-option"}," --- List Of Car Models --- ",-1)),vo=["value"],go={class:"col-12"},yo={class:"form-group"},Co=h(()=>o("label",null,"Thumbnail",-1)),Fo={class:"col-12"},wo={class:"form-group"},So=h(()=>o("label",null,"Car Images",-1)),Mo=h(()=>o("div",{class:"col-12"},[o("button",{type:"submit",class:"btn btn-primary mr-1"}," Save ")],-1));function $o(l,e,d,t,v,y){const r=F("file-pond");return _(),u("div",W,[o("div",z,[o("div",G,[o("div",H,[J,o("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:e[0]||(e[0]=(...a)=>t.clearData&&t.clearData(...a))},Z)]),o("div",oo,[o("form",{class:"form form-vertical",onSubmit:e[8]||(e[8]=O(a=>t.saveFun(),["prevent"]))},[o("div",eo,[o("div",to,[o("div",ao,[lo,b(o("input",{type:"number",class:"form-control",placeholder:"Year","onUpdate:modelValue":e[1]||(e[1]=a=>t.state.form.year=a),required:""},null,512),[[M,t.state.form.year]])])]),o("div",so,[o("div",ro,[no,b(o("input",{type:"text",class:"form-control",placeholder:"color","onUpdate:modelValue":e[2]||(e[2]=a=>t.state.form.color=a),required:""},null,512),[[M,t.state.form.color]])])]),o("div",io,[o("div",co,[mo,b(o("select",{class:"select2 form-control form-control-lg","onUpdate:modelValue":e[3]||(e[3]=a=>t.state.form.car_brand_id=a),required:"",onChange:e[4]||(e[4]=(...a)=>t.loadCarModels&&t.loadCarModels(...a))},[_o,(_(!0),u(w,null,S(d.car_brands,(a,c)=>(_(),u("option",{value:a.id,key:c},f(a.name),9,uo))),128))],544),[[k,t.state.form.car_brand_id]])])]),o("div",ho,[o("div",po,[fo,b(o("select",{class:"select2 form-control form-control-lg","onUpdate:modelValue":e[5]||(e[5]=a=>t.state.form.car_model_id=a),required:""},[bo,(_(!0),u(w,null,S(t.state.carModels,(a,c)=>(_(),u("option",{value:a.id,key:c},f(a.name),9,vo))),128))],512),[[k,t.state.form.car_model_id]])])]),o("div",go,[o("div",yo,[Co,n(r,{name:"thumbnail",modelValue:t.state.form.thumbnail,"onUpdate:modelValue":e[6]||(e[6]=a=>t.state.form.thumbnail=a),ref:"pond","allow-multiple":!1,"accepted-file-types":"image/jpeg, image/png",server:{url:"",timeout:7e3,process:{url:"/admin/upload-thumbnail",method:"POST",headers:{"X-CSRF-TOKEN":l.$page.props.csrf_token},withCredentials:!1,onload:t.handleFilePondLoad}},files:t.state.myFiles,onInit:t.handleFilePondInit},null,8,["modelValue","server","files","onInit"]),o("div",Fo,[o("div",wo,[So,n(r,{name:"cars_display",modelValue:t.state.form.cars_display,"onUpdate:modelValue":e[7]||(e[7]=a=>t.state.form.cars_display=a),ref:"pond","allow-multiple":!0,"accepted-file-types":"image/jpeg, image/png",server:{url:"",timeout:3e3,process:{url:"/admin/upload-temp-cars",method:"POST",headers:{"X-CSRF-TOKEN":l.$page.props.csrf_token},withCredentials:!1,onload:t.handleFilePondCarsLoad}},files:t.state.myCars,onInit:t.handleFilePondCarsInit},null,8,["modelValue","server","files","onInit"])])])])]),Mo])],32)])])])])}const ko=V(A,[["render",$o],["__scopeId","data-v-94635970"]]);const Vo={props:["car_brands","car_models"],setup(){let l=U();const e=I({form:{car_brand_id:"",car_model_id:"",thumbnail:"",cars_display:""},myFiles:[],myThumbnail:[],carModels:[],editdata:L(()=>l.state.editData)});let d=()=>{console.log(e.form);var s=P(e.form);s.patch(route("cars.update",{car:e.form.slug})),$("#editmodal").modal("toggle"),t()},t=()=>{e.form={},e.myFiles=[],e.myThumbnail=[],l.commit("clearEditData")},v=async()=>{if(e.form.car_brand_id)try{const i=await(await fetch(`/admin/car_brand_models?car_brand_id=${e.form.car_brand_id}`)).json();e.carModels=i}catch(s){console.error("Error fetching car models:",s)}else e.carModels=[]},y=()=>{},r=s=>{e.form.thumbnail=s},a=s=>{c(s)},c=s=>{let i=e.form.cars_display?e.form.cars_display.split("|"):[];i.push(s),e.form.cars_display=i.join("|"),console.log(e.form.cars_display)},m=s=>{let i=e.form.cars_display?e.form.cars_display.split("|"):[];i.remove(s),e.form.cars_display=i.join("|"),console.log(e.form.cars_display)},g=(s,i,C)=>{m(s.replace(/^\//,"")),i()};return x(()=>e.form.car_brand_id,v),x(()=>e.editdata,s=>{if(s!==null){e.form=s,e.myThumbnail=[{source:e.form.thumbnail,options:{type:"local",metadata:{poster:e.form.thumbnail}}}];var i=[];for(let C=0;C<e.form.collection.length;C++)i.push({source:e.form.collection[C],options:{type:"local",metadata:{poster:e.form.collection[C]}}});e.myFiles=i}}),{state:e,updateFun:d,clearData:t,loadCarModels:v,handleFilePondLoad:r,handleFilePondInit:y,handleMultipleFilePondLoad:a,handleFilePondRemove:g}}};Array.prototype.remove=function(){for(var l,e=arguments,d=e.length,t;d&&this.length;)for(l=e[--d];(t=this.indexOf(l))!==-1;)this.splice(t,1);return this};const p=l=>(E("data-v-b5b853b5"),l=l(),D(),l),xo={class:"modal fade text-left",id:"editmodal",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel17","aria-hidden":"true"},Lo={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Io={class:"modal-content"},To={class:"modal-header"},Oo=p(()=>o("h4",{class:"modal-title",id:"myModalLabel17"},"Edit Car",-1)),Po=p(()=>o("span",{"aria-hidden":"true"},"×",-1)),Eo=[Po],Do={class:"modal-body"},Uo={class:"row"},jo={class:"col-12"},qo={class:"form-group"},Bo=p(()=>o("label",null,"Year",-1)),No={class:"col-12"},Ro={class:"form-group"},Yo=p(()=>o("label",null,"Color",-1)),Ko={class:"col-12"},Xo={class:"form-group"},Ao=p(()=>o("label",null,"Select Car Brand",-1)),Wo=p(()=>o("option",{value:"",class:"first-option"}," --- List Of Car Brands --- ",-1)),zo=["value"],Go={class:"col-12"},Ho={class:"form-group"},Jo=p(()=>o("label",null,"Select Car Model",-1)),Qo=p(()=>o("option",{value:"",class:"first-option"}," --- List Of Car Models --- ",-1)),Zo=["value"],oe={class:"col-12"},ee={class:"form-group"},te=p(()=>o("label",null,"Thumbnail",-1)),ae={class:"col-12"},le={class:"form-group"},se=p(()=>o("label",null,"Thumbnail",-1)),re=p(()=>o("div",{class:"col-12"},[o("button",{type:"submit",class:"btn btn-primary mr-1"}," Update ")],-1));function de(l,e,d,t,v,y){const r=F("file-pond");return _(),u("div",xo,[o("div",Lo,[o("div",Io,[o("div",To,[Oo,o("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:e[0]||(e[0]=(...a)=>t.clearData&&t.clearData(...a))},Eo)]),o("div",Do,[o("form",{class:"form form-vertical",onSubmit:e[8]||(e[8]=O(a=>t.updateFun(),["prevent"]))},[o("div",Uo,[o("div",jo,[o("div",qo,[Bo,b(o("input",{type:"number",class:"form-control",placeholder:"Year","onUpdate:modelValue":e[1]||(e[1]=a=>t.state.form.year=a),required:""},null,512),[[M,t.state.form.year]])])]),o("div",No,[o("div",Ro,[Yo,b(o("input",{type:"text",class:"form-control",placeholder:"color","onUpdate:modelValue":e[2]||(e[2]=a=>t.state.form.color=a),required:""},null,512),[[M,t.state.form.color]])])]),o("div",Ko,[o("div",Xo,[Ao,b(o("select",{class:"select2 form-control form-control-lg","onUpdate:modelValue":e[3]||(e[3]=a=>t.state.form.car_brand_id=a),required:"",onChange:e[4]||(e[4]=(...a)=>t.loadCarModels&&t.loadCarModels(...a))},[Wo,(_(!0),u(w,null,S(d.car_brands,(a,c)=>(_(),u("option",{value:a.id,key:c},f(a.name),9,zo))),128))],544),[[k,t.state.form.car_brand_id]])])]),o("div",Go,[o("div",Ho,[Jo,b(o("select",{class:"select2 form-control form-control-lg","onUpdate:modelValue":e[5]||(e[5]=a=>t.state.form.car_model_id=a),required:""},[Qo,(_(!0),u(w,null,S(t.state.carModels,(a,c)=>(_(),u("option",{value:a.id,key:c},f(a.name),9,Zo))),128))],512),[[k,t.state.form.car_model_id]])])]),o("div",oe,[o("div",ee,[te,n(r,{name:"thumbnail",modelValue:t.state.form.thumbnail,"onUpdate:modelValue":e[6]||(e[6]=a=>t.state.form.thumbnail=a),ref:"pond","allow-multiple":!1,"accepted-file-types":"image/jpeg, image/png",server:{url:"",timeout:7e3,process:{url:"/admin/upload-thumbnail",method:"POST",headers:{"X-CSRF-TOKEN":l.$page.props.csrf_token},withCredentials:!1,onload:t.handleFilePondLoad}},files:t.state.myThumbnail},null,8,["modelValue","server","files"])])]),o("div",ae,[o("div",le,[se,n(r,{name:"cars_display",modelValue:t.state.form.cars_display,"onUpdate:modelValue":e[7]||(e[7]=a=>t.state.form.cars_display=a),ref:"pond1","allow-multiple":!0,"accepted-file-types":"image/jpeg, image/png",server:{url:"",timeout:7e3,process:{url:"/admin/upload-temp-cars",method:"POST",headers:{"X-CSRF-TOKEN":l.$page.props.csrf_token},withCredentials:!1,onload:t.handleMultipleFilePondLoad}},files:t.state.myFiles},null,8,["modelValue","server","files"])])]),re])],32)])])])])}const ne=V(Vo,[["render",de],["__scopeId","data-v-b5b853b5"]]),ie={layout:R,components:{Search:X,Create:ko,Edit:ne,Link:j},props:["cars","car_models","car_brands"],setup(){const l=U(),e=I({displaySearch:L(()=>l.state.displaysearch),searchState:L(()=>l.state.SuccesssearchState)});return{getFun:()=>{T.get("/admin/cars")},editFun:r=>{l.commit("editDataState",r)},toggleSearchForm:()=>{l.commit("toggleSearch")},deleteFun:r=>{var a=confirm("Are you sure You Want to Delete This Record?");a==!0&&T.delete(route("cars.destroy",r))},state:e}}},ce={class:"content-wrapper"},me=N('<div class="content-header row"><div class="content-header-left col-md-9 col-12 mb-2"><div class="row breadcrumbs-top"><div class="col-12"><h2 class="content-header-title float-left mb-0"> Our Cars </h2><div class="breadcrumb-wrapper"><ol class="breadcrumb"><li class="breadcrumb-item"></li><li class="breadcrumb-item active">Our Cars</li></ol></div></div></div></div></div>',1),_e={class:"content-body"},ue={class:"row",id:"basic-table"},he={class:"col-12"},pe={class:"card"},fe={class:"card-header py-1"},be=o("h4",{class:"card-title"},"Our Cars",-1),ve={class:"float-right"},ge={type:"button",class:"btn btn-outline-primary float-right btn-sm","data-toggle":"modal","data-target":"#large"},ye=o("div",{class:"btn-group dropstart float-right"},null,-1),Ce={class:"table-responsive table-hover table-striped"},Fe={class:"table"},we=o("thead",null,[o("tr",null,[o("th",null,"#"),o("th",null,"Year"),o("th",null,"Color"),o("th",null,"Brand"),o("th",null,"Model"),o("th",null,"Thumbnail"),o("th",null,"Actions")])],-1),Se=["src"],Me={class:"dropdown"},$e={type:"button",class:"btn btn-sm dropdown-toggle hide-arrow","data-toggle":"dropdown"},ke={class:"dropdown-menu"},Ve=["onClick"],xe=o("span",null,"Edit",-1),Le=["onClick"],Ie=o("span",null,"Delete",-1),Te={class:"mx-2 mt-3"},Oe={slot:"prev-nav"},Pe={slot:"next-nav"};function Ee(l,e,d,t,v,y){const r=F("feather"),a=F("Search"),c=F("pagination"),m=F("Create"),g=F("Edit");return _(),u("div",ce,[me,o("div",_e,[o("div",ue,[o("div",he,[o("div",pe,[o("div",fe,[be,o("div",ve,[o("button",ge,[n(r,{type:"plus"})]),ye,o("button",{class:"btn btn-outline-primary float-right mr-1 btn-sm",onClick:e[0]||(e[0]=(...s)=>t.getFun&&t.getFun(...s))},[n(r,{type:"refresh-ccw"})]),o("button",{class:"btn btn-outline-primary float-right mr-1 btn-sm",onClick:e[1]||(e[1]=(...s)=>t.toggleSearchForm&&t.toggleSearchForm(...s))},[n(r,{type:"search"})])])]),b(o("div",null,[n(a,{car_brands:d.car_brands,car_models:d.car_models},null,8,["car_brands","car_models"])],512),[[q,t.state.displaySearch]]),o("div",Ce,[o("table",Fe,[we,o("tbody",null,[(_(!0),u(w,null,S(d.cars.data,(s,i)=>(_(),u("tr",{key:i},[o("td",null,f(i+1),1),o("td",null,f(s.year),1),o("td",null,f(s.color),1),o("td",null,f(s.car_brand.name),1),o("td",null,f(s.car_model.name),1),o("td",null,[o("img",{src:s.thumbnail,alt:"Car Logo",style:{"max-width":"70px","max-height":"70px"}},null,8,Se)]),o("td",null,[o("div",Me,[o("button",$e,[n(r,{type:"more-vertical"})]),o("div",ke,[o("a",{class:"dropdown-item bg-light-warning",href:"javascript:void(0);","data-toggle":"modal","data-target":"#editmodal",onClick:C=>t.editFun(s)},[n(r,{type:"edit-2",class:"mr-50"}),xe],8,Ve),o("a",{class:"dropdown-item bg-light-danger",href:"javascript:void(0);",onClick:C=>t.deleteFun(s.slug)},[n(r,{type:"trash",class:"mr-50"}),Ie],8,Le)])])])]))),128))])]),o("div",Te,[n(c,{data:d.car_models,limit:1},{default:B(()=>[o("span",Oe,[n(r,{type:"arrow-left"})]),o("span",Pe,[n(r,{type:"arrow-right"})])]),_:1},8,["data"]),n(c,{class:"mt-6",links:d.car_models.links},null,8,["links"])])])])])])]),n(m,{car_brands:d.car_brands},null,8,["car_brands"]),n(g,{car_brands:d.car_brands},null,8,["car_brands"])])}const je=V(ie,[["render",Ee]]);export{je as default};
