import{_ as v,r as b,o as n,c as i,a as t,w as d,v as m,t as p,b as M,d as w,O as g,q as x,F as S,l as U,T as C,u as k,i as y,j as P,e as f,f as r,k as q,m as L,n as A}from"./app-cfb6104e.js";import{M as T}from"./Vertical-a8e1a7bb.js";const j={layout:"Vertical",setup(){const a=b({errors:null,submitdata:{search:null}});return{state:a,searchFun:async()=>{await g.get(route("users.index"),a.submitdata,{preserveState:!0})}}}},B={class:"col-12"},R={class:"row"},O={class:"col-6"},I={class:"form-group"},W=t("div",{class:"col-6"},[t("div",{class:"form-group"},[t("button",{type:"submit",class:"btn btn-primary mr-1 control"}," Search ")])],-1),Y={key:0,class:"col-12"},z={class:"badge badge-light-danger mb-2 errorbadge"};function G(a,o,l,s,c,h){return n(),i("div",B,[t("form",{class:"form form-vertical",onSubmit:o[1]||(o[1]=w((...e)=>s.searchFun&&s.searchFun(...e),["prevent"]))},[t("div",R,[t("div",O,[t("div",I,[d(t("input",{type:"text",class:"form-control",placeholder:"Search by Name","onUpdate:modelValue":o[0]||(o[0]=e=>s.state.submitdata.search=e)},null,512),[[m,s.state.submitdata.search]])])]),W,s.state.errors!==null?(n(),i("div",Y,[t("span",z,p(s.state.errors),1)])):M("",!0)])],32)])}const H=v(j,[["render",G]]),J={props:["roles"],setup(){const a=b({form:{name:null,email:null,password:null,confirm_password:null,role_id:[]}});let o=()=>{var s=C(a.form);s.post(route("users.store")),$("#large").modal("toggle"),l()},l=()=>{a.form.name=null,a.form.email=null,a.form.password=null,a.form.confirm_password=null,a.form.role_id=[]};return{state:a,saveFun:o,clearData:l}}},K={class:"modal fade text-left",id:"large",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel17","aria-hidden":"true"},Q={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},X={class:"modal-content"},Z={class:"modal-header"},tt=t("h4",{class:"modal-title",id:"myModalLabel17"},"New User",-1),ot=t("span",{"aria-hidden":"true"},"×",-1),st=[ot],et={class:"modal-body"},at={class:"row"},lt={class:"col-12"},rt={class:"form-group"},dt=t("label",null,"User Name",-1),nt={class:"col-12"},it={class:"form-group"},ct=t("label",null,"Email Address",-1),mt={class:"col-12"},_t={class:"form-group"},ut=t("label",null,"Password",-1),ht={class:"col-12"},pt={class:"form-group"},ft=t("label",null,"Confirm Password",-1),vt={class:"col-12"},bt={class:"form-group"},gt=t("label",null,"Select Role",-1),yt=["value"],wt=t("div",{class:"col-12"},[t("button",{type:"submit",class:"btn btn-primary mr-1"}," Save ")],-1);function $t(a,o,l,s,c,h){return n(),i("div",K,[t("div",Q,[t("div",X,[t("div",Z,[tt,t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:o[0]||(o[0]=(...e)=>s.clearData&&s.clearData(...e))},st)]),t("div",et,[t("form",{class:"form form-vertical",onSubmit:o[6]||(o[6]=w(e=>s.saveFun(),["prevent"]))},[t("div",at,[t("div",lt,[t("div",rt,[dt,d(t("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":o[1]||(o[1]=e=>s.state.form.name=e),required:""},null,512),[[m,s.state.form.name]])])]),t("div",nt,[t("div",it,[ct,d(t("input",{type:"email",class:"form-control",placeholder:"Email","onUpdate:modelValue":o[2]||(o[2]=e=>s.state.form.email=e),required:""},null,512),[[m,s.state.form.email]])])]),t("div",mt,[t("div",_t,[ut,d(t("input",{type:"text",class:"form-control",placeholder:"Password","onUpdate:modelValue":o[3]||(o[3]=e=>s.state.form.password=e),required:""},null,512),[[m,s.state.form.password]])])]),t("div",ht,[t("div",pt,[ft,d(t("input",{type:"text",class:"form-control",placeholder:"Password","onUpdate:modelValue":o[4]||(o[4]=e=>s.state.form.confirm_password=e),required:""},null,512),[[m,s.state.form.confirm_password]])])]),t("div",vt,[t("div",bt,[gt,d(t("select",{class:"form-control form-control-lg",id:"bankSelect",multiple:"","onUpdate:modelValue":o[5]||(o[5]=e=>s.state.form.role_id=e)},[(n(!0),i(S,null,U(l.roles,(e,u)=>(n(),i("option",{value:e.id,key:u},p(e.name),9,yt))),128))],512),[[x,s.state.form.role_id]])])]),wt])],32)])])])])}const St=v(J,[["render",$t]]),Ut={props:["roles"],setup(){let a=k();const o=b({form:{},errors:"",editdata:y(()=>a.state.editData)});let l=async()=>{if(o.form.password!==o.form.confirm_password){o.errors="The password field must match confirm-password.";return}var c=C(o.form);c.patch(route("users.update",{user:o.form.id})),$("#editmodal").modal("toggle"),s()},s=()=>{a.commit("clearEditData")};return P(()=>o.editdata,c=>{c!==null&&(o.form=c,o.form.role_id=c.roles.map(h=>h.id))}),{state:o,updateFun:l,clearData:s}}},Ft={class:"modal fade text-left",id:"editmodal",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel17","aria-hidden":"true"},xt={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},Ct={class:"modal-content"},kt={class:"modal-header"},Vt=t("h4",{class:"modal-title",id:"myModalLabel17"},"New User",-1),Dt=t("span",{"aria-hidden":"true"},"×",-1),Nt=[Dt],Et={class:"modal-body"},Mt={class:"row"},Pt={class:"col-12"},qt={class:"form-group"},Lt=t("label",null,"User Name",-1),At={class:"col-12"},Tt={class:"form-group"},jt=t("label",null,"Email Address",-1),Bt={class:"col-12"},Rt={class:"form-group"},Ot=t("label",null,"Password",-1),It={class:"col-12"},Wt={class:"form-group"},Yt=t("label",null,"Confirm Password",-1),zt={class:"col-12"},Gt={class:"form-group"},Ht=t("label",null,"Select Role",-1),Jt=["value"],Kt=t("div",{class:"col-12"},[t("button",{type:"submit",class:"btn btn-primary mr-1"}," Save ")],-1);function Qt(a,o,l,s,c,h){return n(),i("div",Ft,[t("div",xt,[t("div",Ct,[t("div",kt,[Vt,t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:o[0]||(o[0]=(...e)=>s.clearData&&s.clearData(...e))},Nt)]),t("div",Et,[t("form",{class:"form form-vertical",onSubmit:o[6]||(o[6]=w(e=>s.updateFun(),["prevent"]))},[t("div",Mt,[t("div",Pt,[t("div",qt,[Lt,d(t("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":o[1]||(o[1]=e=>s.state.form.name=e),required:""},null,512),[[m,s.state.form.name]])])]),t("div",At,[t("div",Tt,[jt,d(t("input",{type:"email",class:"form-control",placeholder:"Email","onUpdate:modelValue":o[2]||(o[2]=e=>s.state.form.email=e),required:""},null,512),[[m,s.state.form.email]])])]),t("div",Bt,[t("div",Rt,[Ot,d(t("input",{type:"text",class:"form-control",placeholder:"Password","onUpdate:modelValue":o[3]||(o[3]=e=>s.state.form.password=e)},null,512),[[m,s.state.form.password]])])]),t("div",It,[t("div",Wt,[Yt,d(t("input",{type:"text",class:"form-control",placeholder:"Password","onUpdate:modelValue":o[4]||(o[4]=e=>s.state.form.confirm_password=e)},null,512),[[m,s.state.form.confirm_password]])])]),t("div",zt,[t("div",Gt,[Ht,d(t("select",{class:"form-control form-control-lg",id:"bankSelect",multiple:"","onUpdate:modelValue":o[5]||(o[5]=e=>s.state.form.role_id=e)},[(n(!0),i(S,null,U(l.roles,(e,u)=>(n(),i("option",{value:e.id,key:u},p(e.name),9,Jt))),128))],512),[[x,s.state.form.role_id]])])]),Kt])],32)])])])])}const Xt=v(Ut,[["render",Qt]]),Zt={layout:T,components:{UserSearch:H,UserCreate:St,UserEdit:Xt},props:["users","roles"],setup(){const a=k(),o=b({displaySearch:y(()=>a.state.displaysearch),searchState:y(()=>a.state.SuccesssearchState)});return{getFun:()=>{g.get("/admin/users")},editFun:e=>{a.commit("editDataState",e)},toggleSearchForm:()=>{a.commit("toggleSearch")},deleteFun:e=>{var u=confirm("Are you sure You Want to Delete This Record?");u==!0&&g.delete(route("users.destroy",e))},state:o}}},to={class:"content-wrapper"},oo=A('<div class="content-header row"><div class="content-header-left col-md-9 col-12 mb-2"><div class="row breadcrumbs-top"><div class="col-12"><h2 class="content-header-title float-left mb-0"> Users </h2><div class="breadcrumb-wrapper"><ol class="breadcrumb"><li class="breadcrumb-item"></li><li class="breadcrumb-item active">Users</li></ol></div></div></div></div></div>',1),so={class:"content-body"},eo={class:"row",id:"basic-table"},ao={class:"col-12"},lo={class:"card"},ro={class:"card-header py-1"},no=t("h4",{class:"card-title"},"Users",-1),io={class:"float-right"},co={type:"button",class:"btn btn-outline-primary float-right btn-sm","data-toggle":"modal","data-target":"#large"},mo=t("div",{class:"btn-group dropstart float-right"},null,-1),_o={class:"table-responsive table-hover table-striped"},uo={class:"table"},ho=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"Name"),t("th",null,"Email Address"),t("th",null,"Actions")])],-1),po={class:"dropdown"},fo={type:"button",class:"btn btn-sm dropdown-toggle hide-arrow","data-toggle":"dropdown"},vo={class:"dropdown-menu"},bo=["onClick"],go=t("span",null,"Edit",-1),yo=["onClick"],wo=t("span",null,"Delete",-1),$o={class:"mx-2 mt-3"},So={slot:"prev-nav"},Uo={slot:"next-nav"};function Fo(a,o,l,s,c,h){const e=f("feather"),u=f("UserSearch"),V=f("pagination"),D=f("UserCreate"),N=f("UserEdit");return n(),i("div",to,[oo,t("div",so,[t("div",eo,[t("div",ao,[t("div",lo,[t("div",ro,[no,t("div",io,[t("button",co,[r(e,{type:"plus"})]),mo,t("button",{class:"btn btn-outline-primary float-right mr-1 btn-sm",onClick:o[0]||(o[0]=(..._)=>s.getFun&&s.getFun(..._))},[r(e,{type:"refresh-ccw"})]),t("button",{class:"btn btn-outline-primary float-right mr-1 btn-sm",onClick:o[1]||(o[1]=(..._)=>s.toggleSearchForm&&s.toggleSearchForm(..._))},[r(e,{type:"search"})])])]),d(t("div",null,[r(u)],512),[[q,s.state.displaySearch]]),t("div",_o,[t("table",uo,[ho,t("tbody",null,[(n(!0),i(S,null,U(l.users.data,(_,F)=>(n(),i("tr",{key:F},[t("td",null,p(F+1),1),t("td",null,p(_.name),1),t("td",null,p(_.email),1),t("td",null,[t("div",po,[t("button",fo,[r(e,{type:"more-vertical"})]),t("div",vo,[t("a",{class:"dropdown-item bg-light-warning",href:"javascript:void(0);","data-toggle":"modal","data-target":"#editmodal",onClick:E=>s.editFun(_)},[r(e,{type:"edit-2",class:"mr-50"}),go],8,bo),t("a",{class:"dropdown-item bg-light-danger",href:"javascript:void(0);",onClick:E=>s.deleteFun(_.id)},[r(e,{type:"trash",class:"mr-50"}),wo],8,yo)])])])]))),128))])]),t("div",$o,[r(V,{data:l.users,limit:1},{default:L(()=>[t("span",So,[r(e,{type:"arrow-left"})]),t("span",Uo,[r(e,{type:"arrow-right"})])]),_:1},8,["data"])])])])])])]),r(D,{roles:l.roles},null,8,["roles"]),r(N,{roles:l.roles},null,8,["roles"])])}const ko=v(Zt,[["render",Fo]]);export{ko as default};
