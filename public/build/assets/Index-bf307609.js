import{_ as p,r as g,o as _,c as u,a as t,w as b,v as w,t as v,b as N,d as S,O as y,e as m,f as d,T as x,g as I,p as E,h as B,u as k,i as F,j as M,k as P,F as T,l as O,m as U,n as j}from"./app-46f2c905.js";import{M as q}from"./Vertical-279f4901.js";const R={layout:"Vertical",setup(){const a=g({errors:null,submitdata:{search:null}});return{state:a,searchFun:async()=>{await y.get(route("car_brands.index"),a.submitdata,{preserveState:!0})}}}},A={class:"col-12"},K={class:"row"},X={class:"col-6"},W={class:"form-group"},Y=t("div",{class:"col-6"},[t("div",{class:"form-group"},[t("button",{type:"submit",class:"btn btn-primary mr-1 control"}," Search ")])],-1),z={key:0,class:"col-12"},G={class:"badge badge-light-danger mb-2 errorbadge"};function H(a,e,r,o,i,n){return _(),u("div",A,[t("form",{class:"form form-vertical",onSubmit:e[1]||(e[1]=S((...s)=>o.searchFun&&o.searchFun(...s),["prevent"]))},[t("div",K,[t("div",X,[t("div",W,[b(t("input",{type:"text",class:"form-control",placeholder:"Search by Name","onUpdate:modelValue":e[0]||(e[0]=s=>o.state.submitdata.search=s)},null,512),[[w,o.state.submitdata.search]])])]),Y,o.state.errors!==null?(_(),u("div",z,[t("span",G,v(o.state.errors),1)])):N("",!0)])],32)])}const J=p(R,[["render",H]]);const Q={setup(){const a=g({form:{},myFiles:[]});let e=()=>{var s=x(a.form);s.post(route("car_brands.store")),$("#large").modal("toggle"),n()},r=()=>{},o=s=>{a.form.logo=s},i=(s,l,f)=>{I.post("/admin/brand-image-revert",{logo:a.form.logo}),a.form.logo="",l()},n=()=>{a.form={logo:"",name:""},a.myFiles=[]};return{state:a,saveFun:e,clearData:n,handleFilePondLoad:o,handleFilePondInit:r,handleRevertImage:i}}},h=a=>(E("data-v-d7c09cb8"),a=a(),B(),a),Z={class:"modal fade text-left",id:"large",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel17","aria-hidden":"true"},tt={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},et={class:"modal-content"},ot={class:"modal-header"},at=h(()=>t("h4",{class:"modal-title",id:"myModalLabel17"},"New Brand",-1)),st=h(()=>t("span",{"aria-hidden":"true"},"×",-1)),lt=[st],dt={class:"modal-body"},nt={class:"row"},rt={class:"col-12"},it={class:"form-group"},ct=h(()=>t("label",null,"Name",-1)),mt={class:"col-12"},_t={class:"form-group"},ut=h(()=>t("label",null,"Logo",-1)),ht=h(()=>t("div",{class:"col-12"},[t("button",{type:"submit",class:"btn btn-primary mr-1"}," Save ")],-1));function pt(a,e,r,o,i,n){const s=m("file-pond");return _(),u("div",Z,[t("div",tt,[t("div",et,[t("div",ot,[at,t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:e[0]||(e[0]=(...l)=>o.clearData&&o.clearData(...l))},lt)]),t("div",dt,[t("form",{class:"form form-vertical",onSubmit:e[3]||(e[3]=S(l=>o.saveFun(),["prevent"]))},[t("div",nt,[t("div",rt,[t("div",it,[ct,b(t("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[1]||(e[1]=l=>o.state.form.name=l),required:""},null,512),[[w,o.state.form.name]])])]),t("div",mt,[t("div",_t,[ut,d(s,{required:"",name:"logo",modelValue:o.state.form.logo,"onUpdate:modelValue":e[2]||(e[2]=l=>o.state.form.logo=l),"allow-multiple":!1,"accepted-file-types":"image/jpeg, image/png",server:{url:"",timeout:3e3,process:{url:"/admin/upload-logo",method:"POST",headers:{"X-CSRF-TOKEN":a.$page.props.csrf_token},withCredentials:!1,onload:o.handleFilePondLoad},revert:o.handleRevertImage},files:o.state.myFiles,onInit:o.handleFilePondInit},null,8,["modelValue","server","files","onInit"])])]),ht])],32)])])])])}const gt=p(Q,[["render",pt],["__scopeId","data-v-d7c09cb8"]]),bt={setup(){let a=k();const e=g({form:{},editdata:F(()=>a.state.editData)});let r=async()=>{var n=x(e.form);n.patch(route("car_brands.update",{car_brand:e.form.id})),$("#editmodal").modal("toggle"),o()},o=()=>{a.commit("clearEditData"),e.form={},e.myFiles=[]},i=n=>{e.form.logo=n};return M(()=>e.editdata,n=>{n!==null&&(e.form=n,e.myFiles=[{source:e.form.logo,options:{type:"local",metadata:{poster:e.form.logo}}}])}),{state:e,udpateFun:r,clearData:o,handleFilePondLoad:i}}},ft={class:"modal fade text-left",id:"editmodal",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel17","aria-hidden":"true"},vt={class:"modal-dialog modal-dialog-centered modal-lg",role:"document"},yt={class:"modal-content"},Ft={class:"modal-header"},$t=t("h4",{class:"modal-title",id:"myModalLabel17"},"Edit Brand",-1),wt=t("span",{"aria-hidden":"true"},"×",-1),St=[wt],Ct={class:"modal-body"},xt={class:"row"},kt={class:"col-12"},Lt={class:"form-group"},Vt=t("label",null,"Name",-1),Dt={class:"col-12"},Nt={class:"form-group"},It=t("label",null,"Logo",-1),Et=t("div",{class:"col-12"},[t("button",{type:"submit",class:"btn btn-primary mr-1"}," Update ")],-1);function Bt(a,e,r,o,i,n){const s=m("file-pond");return _(),u("div",ft,[t("div",vt,[t("div",yt,[t("div",Ft,[$t,t("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:e[0]||(e[0]=(...l)=>o.clearData&&o.clearData(...l))},St)]),t("div",Ct,[t("form",{class:"form form-vertical",onSubmit:e[3]||(e[3]=S(l=>o.udpateFun(),["prevent"]))},[t("div",xt,[t("div",kt,[t("div",Lt,[Vt,b(t("input",{type:"text",class:"form-control",placeholder:"Name","onUpdate:modelValue":e[1]||(e[1]=l=>o.state.form.name=l),required:""},null,512),[[w,o.state.form.name]])])]),t("div",Dt,[t("div",Nt,[It,d(s,{required:"",name:"logo",modelValue:o.state.form.logo,"onUpdate:modelValue":e[2]||(e[2]=l=>o.state.form.logo=l),ref:"pond","allow-multiple":!1,"accepted-file-types":"image/jpeg, image/png",server:{url:"",timeout:7e3,process:{url:"/admin/upload-logo",method:"POST",headers:{"X-CSRF-TOKEN":a.$page.props.csrf_token},withCredentials:!1,onload:o.handleFilePondLoad}},files:o.state.myFiles},null,8,["modelValue","server","files"])])]),Et])],32)])])])])}const Mt=p(bt,[["render",Bt]]),Pt={layout:q,components:{Search:J,Create:gt,Edit:Mt},props:["car_brands"],setup(){const a=k(),e=g({displaySearch:F(()=>a.state.displaysearch),searchState:F(()=>a.state.SuccesssearchState)});return{getFun:()=>{y.get("/admin/car_brands")},editFun:s=>{a.commit("editDataState",s)},toggleSearchForm:()=>{a.commit("toggleSearch")},deleteFun:s=>{var l=confirm("Are you sure You Want to Delete This Record?");l==!0&&y.delete(route("car_brands.destroy",s))},state:e}}},Tt={class:"content-wrapper"},Ot=j('<div class="content-header row"><div class="content-header-left col-md-9 col-12 mb-2"><div class="row breadcrumbs-top"><div class="col-12"><h2 class="content-header-title float-left mb-0"> Car Brands </h2><div class="breadcrumb-wrapper"><ol class="breadcrumb"><li class="breadcrumb-item"></li><li class="breadcrumb-item active"> Car Brands </li></ol></div></div></div></div></div>',1),Ut={class:"content-body"},jt={class:"row",id:"basic-table"},qt={class:"col-12"},Rt={class:"card"},At={class:"card-header py-1"},Kt=t("h4",{class:"card-title"},"Car Brands",-1),Xt={class:"float-right"},Wt={type:"button",class:"btn btn-outline-primary float-right btn-sm","data-toggle":"modal","data-target":"#large"},Yt=t("div",{class:"btn-group dropstart float-right"},null,-1),zt={class:"table-responsive table-hover table-striped"},Gt={class:"table"},Ht=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"Name"),t("th",null,"Logo"),t("th",null,"Actions")])],-1),Jt=["src"],Qt={class:"dropdown"},Zt={type:"button",class:"btn btn-sm dropdown-toggle hide-arrow","data-toggle":"dropdown"},te={class:"dropdown-menu"},ee=["onClick"],oe=t("span",null,"Edit",-1),ae=["onClick"],se=t("span",null,"Delete",-1),le={class:"mx-2 mt-3"},de={slot:"prev-nav"},ne={slot:"next-nav"};function re(a,e,r,o,i,n){const s=m("feather"),l=m("Search"),f=m("pagination"),L=m("Create"),V=m("Edit");return _(),u("div",Tt,[Ot,t("div",Ut,[t("div",jt,[t("div",qt,[t("div",Rt,[t("div",At,[Kt,t("div",Xt,[t("button",Wt,[d(s,{type:"plus"})]),Yt,t("button",{class:"btn btn-outline-primary float-right mr-1 btn-sm",onClick:e[0]||(e[0]=(...c)=>o.getFun&&o.getFun(...c))},[d(s,{type:"refresh-ccw"})]),t("button",{class:"btn btn-outline-primary float-right mr-1 btn-sm",onClick:e[1]||(e[1]=(...c)=>o.toggleSearchForm&&o.toggleSearchForm(...c))},[d(s,{type:"search"})])])]),b(t("div",null,[d(l)],512),[[P,o.state.displaySearch]]),t("div",zt,[t("table",Gt,[Ht,t("tbody",null,[(_(!0),u(T,null,O(r.car_brands.data,(c,C)=>(_(),u("tr",{key:C},[t("td",null,v(C+1),1),t("td",null,v(c.name),1),t("td",null,[t("img",{src:c.logo,alt:"Car Logo",style:{"max-width":"50px","max-height":"50px"}},null,8,Jt)]),t("td",null,[t("div",Qt,[t("button",Zt,[d(s,{type:"more-vertical"})]),t("div",te,[t("a",{class:"dropdown-item bg-light-warning",href:"javascript:void(0);","data-toggle":"modal","data-target":"#editmodal",onClick:D=>o.editFun(c)},[d(s,{type:"edit-2",class:"mr-50"}),oe],8,ee),t("a",{class:"dropdown-item bg-light-danger",href:"javascript:void(0);",onClick:D=>o.deleteFun(c.id)},[d(s,{type:"trash",class:"mr-50"}),se],8,ae)])])])]))),128))])]),t("div",le,[d(f,{data:r.car_brands,limit:1},{default:U(()=>[t("span",de,[d(s,{type:"arrow-left"})]),t("span",ne,[d(s,{type:"arrow-right"})])]),_:1},8,["data"]),d(f,{class:"mt-6",links:r.car_brands.links},null,8,["links"])])])])])])]),d(L),d(V)])}const me=p(Pt,[["render",re]]);export{me as default};
